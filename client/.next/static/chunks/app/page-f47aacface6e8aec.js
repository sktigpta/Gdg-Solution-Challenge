(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8271:(e,s,t)=>{Promise.resolve().then(t.bind(t,2780))},2780:(e,s,t)=>{"use strict";t.d(s,{default:()=>b});var a=t(4001),i=t(7749),d=t(2625),c=t(6249),l=t(6220),r=t(1106);t(2203);let o=e=>{let{message:s,type:t,onClose:o,duration:n=5e3}=e;return((0,i.useEffect)(()=>{if(!s||!t)return;let e=setTimeout(()=>{o()},n);return()=>clearTimeout(e)},[s,t,o,n]),s&&t)?(0,a.jsxs)("div",{className:"notification-bar notification-".concat(t),children:[(0,a.jsxs)("div",{className:"notification-content",children:[(()=>{switch(t){case"error":return(0,a.jsx)(d.A,{className:"notification-icon"});case"warning":return(0,a.jsx)(c.A,{className:"notification-icon"});case"success":return(0,a.jsx)(l.A,{className:"notification-icon"});default:return null}})(),(0,a.jsx)("span",{children:s})]}),(0,a.jsx)("button",{className:"notification-close",onClick:o,children:(0,a.jsx)(r.A,{size:18})})]}):null};var n=t(2763);let h=e=>{let{onNotification:s}=e,[t,d]=(0,i.useState)([]),[c,l]=(0,i.useState)(""),o=(0,i.useRef)(null),h="http://localhost:5000/api/search-queries";(0,i.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await n.A.get(h);d(e.data)}catch(e){s("Failed to fetch queries","error")}},u=async e=>{"Enter"===e.key&&c.trim()&&v()},v=async()=>{if(c.trim())try{let e=await n.A.post(h,{query:c});d([...t,e.data]),l(""),s('Query "'.concat(c,'" added successfully'),"success"),setTimeout(()=>{o.current&&(o.current.scrollLeft=o.current.scrollWidth)},100)}catch(e){s("Failed to add query","error")}},p=async(e,a)=>{try{await n.A.delete("".concat(h,"/").concat(e)),d(t.filter(s=>s.id!==e)),s('Query "'.concat(a,'" deleted'),"success")}catch(e){s("Failed to delete query","error")}};return(0,a.jsxs)("div",{className:"query-row",children:[(0,a.jsx)("input",{type:"text",className:"query-input-minimal",placeholder:"Add new query...",value:c,onChange:e=>l(e.target.value),onKeyDown:u}),(0,a.jsx)("div",{className:"query-tags-container",ref:o,children:t.map(e=>(0,a.jsxs)("div",{className:"query-tag-minimal",children:[(0,a.jsx)("span",{children:e.query}),(0,a.jsx)("button",{className:"query-tag-delete-minimal",onClick:()=>p(e.id,e.query),children:(0,a.jsx)(r.A,{size:14})})]},e.id))})]})};var m=t(3822),u=t(1792),v=t(6745),p=t(9948);let j=e=>{let{onNotification:s}=e,[t,d]=(0,i.useState)([]),[c,l]=(0,i.useState)(!0),[r,o]=(0,i.useState)(!1),[n,h]=(0,i.useState)(!1),j=async()=>{try{let e=await fetch("http://localhost:5000/api/youtube/stored-videos");if(!e.ok)throw Error("Failed to fetch videos");let s=await e.json();d(Array.isArray(null==s?void 0:s.videos)?s.videos:[])}catch(e){s(e.message,"error"),d([])}l(!1)};(0,i.useEffect)(()=>{j();let e=setInterval(j,6e5);return()=>clearInterval(e)},[]);let x=async()=>{o(!0);try{if(!(await fetch("http://localhost:5000/api/youtube/get-videos",{method:"POST"})).ok)throw Error("Failed to fetch new videos");await j(),s("Videos refreshed successfully","success")}catch(e){s(e.message,"error")}o(!1)},N=e=>{window.open("https://www.youtube.com/watch?v=".concat(e),"_blank")};return(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"card-header",children:[(0,a.jsxs)("div",{className:"card-title",children:[(0,a.jsx)("h3",{children:"Fetched Videos"}),(0,a.jsx)("span",{className:"badge",children:(null==t?void 0:t.length)||0})]}),(0,a.jsxs)("div",{className:"card-actions",children:[(0,a.jsx)("button",{className:"icon-button",onClick:x,disabled:r,title:"Refresh videos",children:(0,a.jsx)(m.A,{size:18,className:r?"spin":""})}),(0,a.jsx)("button",{className:"icon-button",onClick:()=>h(!n),title:n?"Expand":"Collapse",children:n?(0,a.jsx)(u.A,{size:18}):(0,a.jsx)(v.A,{size:18})})]})]}),!n&&(0,a.jsx)("div",{className:"card-content",children:c?(0,a.jsx)("div",{className:"loading-state",children:"Loading videos..."}):t.length>0?(0,a.jsx)("div",{className:"video-grid",children:t.map((e,s)=>{var t;return(0,a.jsxs)("div",{className:"video-card",onClick:()=>N(e.videoId),children:[(0,a.jsxs)("div",{className:"video-thumbnail-container",children:[(0,a.jsx)("img",{src:e.videoId?"https://img.youtube.com/vi/".concat(e.videoId,"/mqdefault.jpg"):"/placeholder.svg?height=120&width=160",alt:e.title||"No title available",className:"video-thumbnail"}),(0,a.jsx)("div",{className:"video-overlay",children:(0,a.jsx)(p.A,{size:16})})]}),(0,a.jsxs)("div",{className:"video-details",children:[(0,a.jsx)("h4",{className:"video-title",children:(null===(t=e.title)||void 0===t?void 0:t.length)>60?e.title.substring(0,57)+"...":e.title||"Untitled Video"}),(0,a.jsx)("p",{className:"video-date",children:e.publishedAt?new Date(e.publishedAt).toLocaleDateString():"Unknown Date"})]})]},e.videoId||s)})}):(0,a.jsx)("div",{className:"empty-state",children:"No videos found"})})]})};var x=t(8040);let N=e=>{let{onNotification:s}=e,[t,d]=(0,i.useState)([]),[c,l]=(0,i.useState)({}),[r,o]=(0,i.useState)(!1),h=e=>{if(!e||!e._seconds)return"Unknown";let s=new Date(1e3*e._seconds),t=String(s.getDate()).padStart(2,"0"),a=String(s.getMonth()+1).padStart(2,"0"),i=s.getFullYear();return"".concat(t,"/").concat(a,"/").concat(i)},m=(e,t)=>{s('Generating DMCA for "'.concat(t,'"'),"success")};(0,i.useEffect)(()=>{p();let e=setInterval(()=>{p()},6e5);return()=>clearInterval(e)},[]);let p=async()=>{try{var e;let s=await n.A.get("http://localhost:5000/api/processed"),t=(null===(e=s.data)||void 0===e?void 0:e.videos)||[];d(t),t.forEach(e=>j(e.videoId))}catch(e){s("Failed to fetch processed videos","error")}},j=async e=>{try{let s=await n.A.get("https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=".concat(e,"&format=json"));l(t=>{var a,i;return{...t,[e]:{title:(null===(a=s.data)||void 0===a?void 0:a.title)||"No Title",author:(null===(i=s.data)||void 0===i?void 0:i.author_name)||"Unknown"}}})}catch(s){console.error("Error fetching details for video ".concat(e,":"),s)}};return(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"card-header",children:[(0,a.jsxs)("div",{className:"card-title",children:[(0,a.jsx)("h3",{children:"Processed Videos"}),(0,a.jsx)("span",{className:"badge",children:(null==t?void 0:t.length)||0})]}),(0,a.jsx)("div",{className:"card-actions",children:(0,a.jsx)("button",{className:"icon-button",onClick:()=>o(!r),title:r?"Expand":"Collapse",children:r?(0,a.jsx)(u.A,{size:18}):(0,a.jsx)(v.A,{size:18})})})]}),!r&&(0,a.jsx)("div",{className:"card-content",children:t.length>0?(0,a.jsx)("div",{className:"processed-videos",children:t.map(e=>{var s,t,i;return(0,a.jsxs)("div",{className:"processed-video-card",children:[(0,a.jsxs)("div",{className:"processed-video-header",children:[(0,a.jsx)("img",{src:"https://img.youtube.com/vi/".concat(e.videoId,"/mqdefault.jpg"),alt:(null===(s=c[e.videoId])||void 0===s?void 0:s.title)||"No title available",className:"processed-thumbnail"}),(0,a.jsx)("div",{className:"processed-video-title",children:(0,a.jsx)("h4",{children:(null===(t=c[e.videoId])||void 0===t?void 0:t.title)||"Untitled Video"})})]}),(0,a.jsxs)("div",{className:"processed-video-details",children:[(0,a.jsxs)("div",{className:"processed-stats",children:[(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("span",{className:"stat-label",children:"Copy Percentage:"}),(0,a.jsxs)("span",{className:"stat-value ".concat(e.copyPercentage>70?"high-copy":"low-copy"),children:[null===(i=e.copyPercentage)||void 0===i?void 0:i.toFixed(2),"%"]})]}),(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("span",{className:"stat-label",children:"Status:"}),(0,a.jsx)("span",{className:"stat-value ".concat(e.copied?"copied":"not-copied"),children:e.copied?"Copied":"Not Copied"})]}),(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("span",{className:"stat-label"}),(0,a.jsx)("span",{className:"stat-value",children:h(e.processedAt)})]})]}),(0,a.jsxs)("button",{className:"dmca-button",onClick:()=>{var s;return m(e.videoId,null===(s=c[e.videoId])||void 0===s?void 0:s.title)},children:[(0,a.jsx)(x.A,{size:14}),(0,a.jsx)("span",{children:"Generate DMCA"})]})]})]},e.videoId)})}):(0,a.jsx)("div",{className:"empty-state",children:"No processed videos available"})})]})};var y=t(2786),g=t(4803);let f=e=>{let{onNotification:s}=e,[t,d]=(0,i.useState)([]),[c,l]=(0,i.useState)({}),[r,o]=(0,i.useState)(""),[h,m]=(0,i.useState)(!1);(0,i.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await n.A.get("http://localhost:5000/api/permissions/permitted-videos");d(e.data.permittedVideos),e.data.permittedVideos.forEach(e=>j(e.videoId))}catch(e){s("Failed to fetch permitted videos","error")}},j=async e=>{try{let s=await n.A.get("https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=".concat(e,"&format=json"));l(t=>({...t,[e]:{title:s.data.title,author:s.data.author_name}}))}catch(e){console.error("Error fetching video details:",e)}},x=async()=>{if(r.trim())try{let e=await n.A.post("http://localhost:5000/api/permissions/permitted-videos",{videoId:r});d([...t,{id:e.data.id,videoId:r}]),j(r),o(""),s("Video added to permitted list","success")}catch(e){s("Failed to add video to permitted list","error")}},N=async(e,a)=>{try{await n.A.delete("http://localhost:5000/api/permissions/permitted-videos/".concat(e)),d(t.filter(s=>s.id!==e)),s('"'.concat(a||"Video",'" removed from permitted list'),"success")}catch(e){s("Failed to delete video","error")}};return(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"card-header",children:[(0,a.jsxs)("div",{className:"card-title",children:[(0,a.jsx)("h3",{children:"Permitted Videos"}),(0,a.jsx)("span",{className:"badge",children:t.length})]}),(0,a.jsx)("div",{className:"card-actions",children:(0,a.jsx)("button",{className:"icon-button",onClick:()=>m(!h),title:h?"Expand":"Collapse",children:h?(0,a.jsx)(u.A,{size:18}):(0,a.jsx)(v.A,{size:18})})})]}),!h&&(0,a.jsxs)("div",{className:"card-content",children:[(0,a.jsxs)("div",{className:"permitted-input-container",children:[(0,a.jsx)("input",{type:"text",className:"permitted-input",placeholder:"Enter Video ID",value:r,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&x()}}),(0,a.jsx)("button",{className:"permitted-add-button",onClick:x,disabled:!r.trim(),children:(0,a.jsx)(y.A,{size:16})})]}),t.length>0?(0,a.jsx)("div",{className:"permitted-videos",children:t.map(e=>{var s,t;return(0,a.jsxs)("div",{className:"permitted-video-card",children:[(0,a.jsx)("img",{src:"https://img.youtube.com/vi/".concat(e.videoId,"/mqdefault.jpg"),alt:(null===(s=c[e.videoId])||void 0===s?void 0:s.title)||"No title available",className:"permitted-thumbnail"}),(0,a.jsxs)("div",{className:"permitted-video-info",children:[(0,a.jsx)("h4",{className:"permitted-video-title",children:(null===(t=c[e.videoId])||void 0===t?void 0:t.title)||"Untitled Video"}),(0,a.jsxs)("button",{className:"permitted-delete-button",onClick:()=>{var s;return N(e.id,null===(s=c[e.videoId])||void 0===s?void 0:s.title)},children:[(0,a.jsx)(g.A,{size:14}),(0,a.jsx)("span",{children:"Remove"})]})]})]},e.videoId)})}):(0,a.jsx)("div",{className:"empty-state",children:"No permitted videos"})]})]})},b=()=>{let[e,s]=(0,i.useState)({message:"",type:null}),t=(e,t)=>{s({message:e,type:t})};return(0,a.jsxs)("div",{className:"dashboard",children:[(0,a.jsx)(o,{message:e.message,type:e.type,onClose:()=>{s({message:"",type:null})}}),(0,a.jsx)("header",{className:"dashboard-header",children:(0,a.jsx)("h1",{children:"Secure Rights"})}),(0,a.jsxs)("main",{className:"dashboard-main",children:[(0,a.jsx)(h,{onNotification:t}),(0,a.jsxs)("div",{className:"dashboard-grid",children:[(0,a.jsx)("div",{className:"grid-column",children:(0,a.jsx)(j,{onNotification:t})}),(0,a.jsx)("div",{className:"grid-column",children:(0,a.jsx)(N,{onNotification:t})}),(0,a.jsx)("div",{className:"grid-column",children:(0,a.jsx)(f,{onNotification:t})})]})]}),(0,a.jsx)("footer",{className:"dashboard-footer",children:(0,a.jsxs)("p",{children:["We are team ",(0,a.jsx)("span",{className:"team-name",children:"Tech-NO-Logic"})]})})]})}},2203:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[918,902,142,767,358],()=>s(8271)),_N_E=e.O()}]);